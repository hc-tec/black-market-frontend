{"version":3,"sources":["uni-app:///main.js","webpack:///E:/uni-app-project/blackMarket/pages/forum/forum-details.vue?62b3","webpack:///E:/uni-app-project/blackMarket/pages/forum/forum-details.vue?85a0","webpack:///E:/uni-app-project/blackMarket/pages/forum/forum-details.vue?3993","webpack:///E:/uni-app-project/blackMarket/pages/forum/forum-details.vue?8ace","uni-app:///pages/forum/forum-details.vue","webpack:///E:/uni-app-project/blackMarket/pages/forum/forum-details.vue?f3ce","webpack:///E:/uni-app-project/blackMarket/pages/forum/forum-details.vue?975b"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/forum/forum-details.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/forum/forum-details.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./forum-details.vue?vue&type=template&id=3ba9723f&scoped=true&\"\nvar renderjs\nimport script from \"./forum-details.vue?vue&type=script&lang=js&\"\nexport * from \"./forum-details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./forum-details.vue?vue&type=style&index=0&id=3ba9723f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ba9723f\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/forum/forum-details.vue\"\nexport default component.exports","export * from \"-!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./forum-details.vue?vue&type=template&id=3ba9723f&scoped=true&\"","var components\ntry {\n  components = {\n    ncuCustomHeader: function() {\n      return import(\n        /* webpackChunkName: \"components/ncu-custom-header/ncu-custom-header\" */ \"@/components/ncu-custom-header/ncu-custom-header.vue\"\n      )\n    },\n    ncuScrollWrapperV2: function() {\n      return import(\n        /* webpackChunkName: \"components/ncu-scroll-wrapper-v2/ncu-scroll-wrapper-v2\" */ \"@/components/ncu-scroll-wrapper-v2/ncu-scroll-wrapper-v2.vue\"\n      )\n    },\n    ncuThread: function() {\n      return import(\n        /* webpackChunkName: \"components/ncu-thread/ncu-thread\" */ \"@/components/ncu-thread/ncu-thread.vue\"\n      )\n    },\n    ncuComment: function() {\n      return import(\n        /* webpackChunkName: \"components/ncu-comment/ncu-comment\" */ \"@/components/ncu-comment/ncu-comment.vue\"\n      )\n    },\n    ncuCommentItem: function() {\n      return import(\n        /* webpackChunkName: \"components/ncu-comment-item/ncu-comment-item\" */ \"@/components/ncu-comment-item/ncu-comment-item.vue\"\n      )\n    },\n    ncuLoadingPart: function() {\n      return import(\n        /* webpackChunkName: \"components/ncu-loading-part/ncu-loading-part\" */ \"@/components/ncu-loading-part/ncu-loading-part.vue\"\n      )\n    },\n    ncuNoData: function() {\n      return import(\n        /* webpackChunkName: \"components/ncu-no-data/ncu-no-data\" */ \"@/components/ncu-no-data/ncu-no-data.vue\"\n      )\n    },\n    ncuCommentFoot: function() {\n      return import(\n        /* webpackChunkName: \"components/ncu-comment-foot/ncu-comment-foot\" */ \"@/components/ncu-comment-foot/ncu-comment-foot.vue\"\n      )\n    },\n    ncuMessage: function() {\n      return import(\n        /* webpackChunkName: \"components/ncu-message/ncu-message\" */ \"@/components/ncu-message/ncu-message.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./forum-details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./forum-details.vue?vue&type=script&lang=js&\"","<template>\r\n\t<div class=\"ncu-forum-details\">\r\n\t\t\r\n\t\t<ncu-custom-header\r\n\t\t\t:isBack=\"true\"\r\n\t\t\ttitle=\"说说详情\"\r\n\t\t\tbgColor=\"transparent\"\r\n\t\t\tstyle=\"width: 100%;\">\r\n\t\t</ncu-custom-header>\r\n\t\t\r\n\t\t<ncu-scroll-wrapper-v2\r\n\t\t\t@scrolltoupper=\"flushComments\">\r\n\t\t\t<ncu-thread \r\n\t\t\t\t:_style=\"{\r\n\t\t\t\t\tmarginTop: '30px',\r\n\t\t\t\t}\"\r\n\t\t\t\tneedAppreciatePeopleDetail\r\n\t\t\t\t:thread=\"thread\"\r\n\t\t\t\t@threadClick=\"appreciate\"\r\n\t\t\t\t@appreciate=\"appreciate\">\r\n\t\t\t</ncu-thread>\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t<ncu-comment\r\n\t\t\t\t@scrolltolower=\"getComments(commentConfig.curPage)\"\r\n\t\t\t\t:height=\"getCommentHeight\">\r\n\t\t\t\t<template v-for=\"(pComment,pIndex) in comments\">\r\n\t\t\t\t\t<ncu-comment-item\r\n\t\t\t\t\t\t:key=\"pComment.comment_id\"\r\n\t\t\t\t\t\t:comment=\"pComment\"\r\n\t\t\t\t\t\t:index=\"pIndex\"\r\n\t\t\t\t\t\t@appreciate=\"commentAppreciate\"\r\n\t\t\t\t\t\t@contentClick=\"contentClick\">\r\n\t\t\t\t\t</ncu-comment-item>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<template\r\n\t\t\t\t\t\tv-if=\"pComment.comment_children && \r\n\t\t\t\t\t\t\t  pComment.comment_children.length\">\r\n\t\t\t\t\t\t<ncu-comment-item\r\n\t\t\t\t\t\t\tv-for=\"(comment,index) in\r\n\t\t\t\t\t\t\t\t\tpComment.comment_children\"\r\n\t\t\t\t\t\t\t:key=\"comment.comment_id\"\r\n\t\t\t\t\t\t\t:comment=\"comment\"\r\n\t\t\t\t\t\t\t:parentIndex=\"pIndex\"\r\n\t\t\t\t\t\t\t:index=\"index\"\r\n\t\t\t\t\t\t\t@appreciate=\"commentAppreciate\"\r\n\t\t\t\t\t\t\t@contentClick=\"contentClick\">\r\n\t\t\t\t\t\t</ncu-comment-item>  \r\n\t\t\t\t\t</template>\r\n\t\t\t\t</template>\r\n\t\t\t\t<ncu-loading-part :active=\"commentConfig.isLoading\">\r\n\t\t\t\t</ncu-loading-part>\r\n\t\t\t\t<ncu-no-data\r\n\t\t\t\t\tv-if=\"commentConfig.noData\">\r\n\t\t\t\t</ncu-no-data>\r\n\t\t\t</ncu-comment>\r\n\t\t\r\n\t\t</ncu-scroll-wrapper-v2>\r\n\t\t\r\n\t\t<ncu-comment-foot\r\n\t\t\t:thread_appreciate=\"thread.thread_appreciate\"\r\n\t\t\t:thread_isAppreciate=\"thread.thread_isAppreciate\"\r\n\t\t\t:focus=\"commentFocus\"\r\n\t\t\t:placeholder=\"commentPlaceholder\"\r\n\t\t\t@send=\"messageSend\"\r\n\t\t\t@appreciate=\"appreciate\"\r\n\t\t\t@inputFocus=\"inputFocus\"\r\n\t\t\t@inputBlur=\"inputBlur\">\r\n\t\t\t\r\n\t\t</ncu-comment-foot>\r\n\t\t\r\n\t\t<ncu-message\r\n\t\t\t:open=\"messageConfig.open\"\r\n\t\t\t:type=\"messageConfig.type\"\r\n\t\t\t:message=\"messageConfig.message\"\r\n\t\t\t@close=\"messageClose\">\r\n\t\t</ncu-message>\r\n\t\t\r\n\t</div>\n</template>\n\n<script>\r\n\timport GlobalData from '../../common/global.js'\r\n\timport { httpGet, httpPost, httpPut, httpDelete } from '../../common/http.js'\r\n\timport { appreciateThread_api, appreciateThreadComment_api, threadCommit_api } from '../../common/api.js'\n    export default {\n        data() {\n            return {\r\n\t\t\t\tGlobalData: GlobalData,\r\n\t\t\t\tcommentFocus: false,\r\n\t\t\t\tcommentPlaceholder: '输入评论',\r\n\t\t\t\tcurCommentCtx: null,\r\n\t\t\t\tthread: GlobalData.threadDetails,\r\n\t\t\t\tcomments: [],\n\t\t\t\tmessageConfig: {\r\n\t\t\t\t\topen: false,\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tmessage: ''\r\n\t\t\t\t},\r\n\t\t\t\tcommentConfig: {\r\n\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\tcurPage: 1,\r\n\t\t\t\t\tnoData: false,\r\n\t\t\t\t},\r\n\t\t\t\tthreadAppreciateConfig: {\r\n\t\t\t\t\tisLoading: false,\r\n\t\t\t\t},\r\n\t\t\t\tthreadCommentAppreciateConfig: {\r\n\t\t\t\t\tisLoading: false,\r\n\t\t\t\t},\r\n\t\t\t}\n        },\r\n\t\tcomputed: {\r\n\t\t\tgetCommentHeight() {\r\n\t\t\t\treturn `${Math.max(150, 100*this.thread.comment_num)}px`\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tmessageOpen(message, type) {\r\n\t\t\t\tthis.messageConfig = {\r\n\t\t\t\t\ttype: type || 'success',\r\n\t\t\t\t\tmessage: message,\r\n\t\t\t\t\topen: true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmessageClose(overlay) {\r\n\t\t\t\tconst isDoubleClick = !overlay.clickNum\r\n\t\t\t\tif(isDoubleClick) {\r\n\t\t\t\t\tthis.messageConfig.open = false\r\n\t\t\t\t\toverlay.notExtend()\r\n\t\t\t\t\toverlay.readyClose()\r\n\t\t\t\t} else {\r\n\t\t\t\t\toverlay.extend()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetCommentByIndex(parentIndex, index) {\r\n\t\t\t\tlet currentComment\r\n\t\t\t\tconst hasParent = parentIndex !== null && parentIndex+1\r\n\t\t\t\tconst hasIndex = index !== null && index+1\r\n\t\t\t\tif(hasParent && hasIndex) {\r\n\t\t\t\t\tcurrentComment = this.comments[parentIndex].\r\n\t\t\t\t\t\t\t\t\tcomment_children[index]\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcurrentComment = this.comments[index]\r\n\t\t\t\t}\r\n\t\t\t\treturn currentComment\r\n\t\t\t},\r\n\t\t\tasync appreciate({ active, index }) {\r\n\t\t\t\tif(this.threadAppreciateConfig.isLoading) return\r\n\t\t\t\tthis.threadAppreciateConfig.isLoading = true\r\n\t\t\t\tconst thread = this.thread\r\n\t\t\t\t\t, thread_appreciate_peoples = thread.thread_appreciate_peoples\r\n\t\t\t\t\t, user_name = GlobalData.userInfo.user_name\r\n\t\t\t\t\t, userIndex = thread_appreciate_peoples\r\n\t\t\t\t\t\t\t\t.indexOf(user_name)\r\n\t\t\t\t\t, method = userIndex === -1 ? httpPut : httpDelete\r\n\t\t\t\t\t, [res, err] = await method(\r\n\t\t\t\t\t\tappreciateThread_api, {\r\n\t\t\t\t\t\t\tthread_id: thread.id\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)\r\n\t\t\t\tthis.threadAppreciateConfig.isLoading = false\r\n\t\t\t\tif(err) return;\r\n\t\t\t\tthread.thread_isAppreciate = userIndex === -1\r\n\t\t\t\tthread.thread_appreciate = res.data.num\r\n\t\t\t\t\r\n\t\t\t\tif(thread.thread_isAppreciate) {\r\n\t\t\t\t\tthread_appreciate_peoples.unshift(user_name)\r\n\t\t\t\t} else if(userIndex !== -1) {\r\n\t\t\t\t\tthread_appreciate_peoples.splice(userIndex, 1)\r\n\t\t\t\t}\r\n\t\t\t\tthread_appreciate_peoples.length = res.data.num\r\n\t\t\t},\r\n\t\t\tasync commentAppreciate({ active, parentIndex, index }) {\r\n\t\t\t\tif(this.threadCommentAppreciateConfig.isLoading) return\r\n\t\t\t\tthis.threadCommentAppreciateConfig.isLoading = true\r\n\t\t\t\tconst comment = this.getCommentByIndex(parentIndex, index)\r\n\t\t\t\t\t, is_appreciate = comment.comment_isAppreciate\r\n\t\t\t\t\t, method = !is_appreciate ? httpPut : httpDelete\r\n\t\t\t\t\t, code = !is_appreciate ? 2501 : 2024\r\n\t\t\t\tconst [res, err] = await method(\r\n\t\t\t\t\tappreciateThreadComment_api, {\r\n\t\t\t\t\t\tcomment_id: comment.comment_id\r\n\t\t\t\t\t}, code\r\n\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t\tthis.threadCommentAppreciateConfig.isLoading = false\r\n\t\t\t\t\r\n\t\t\t\tcomment.comment_isAppreciate = !comment.comment_isAppreciate\r\n\t\t\t\tcomment.comment_appreciate = res.data.num\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tcontentClick({ parentIndex, index }) {\r\n\t\t\t\tconst currentComment = this.getCommentByIndex(parentIndex, index)\r\n\t\t\t\tthis.commentFocus = true\r\n\t\t\t\tthis.commentPlaceholder = `回复 ${currentComment.user_info.user_name} 的评论`\r\n\t\t\t\tthis.curCommentCtx = {\r\n\t\t\t\t\tindex,\r\n\t\t\t\t\tparentIndex,\r\n\t\t\t\t\t// comment: currentComment,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tinputFocus() {\r\n\t\t\t\tif(this.commentFocus) return\r\n\t\t\t\tthis.commentPlaceholder = '输入评论'\r\n\t\t\t},\r\n\t\t\tinputBlur() {\r\n\t\t\t\tthis.commentFocus = false\r\n\t\t\t\tthis.commentPlaceholder = '输入评论'\r\n\t\t\t},\r\n\t\t\tflushCommentCtx() {\r\n\t\t\t\tthis.curCommentCtx = {\r\n\t\t\t\t\tindex: null,\r\n\t\t\t\t\tparentIndex: null,\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tflushComments() {\r\n\t\t\t\tthis.commentConfig.curPage = 1\r\n\t\t\t\tthis.commentConfig.isLoading = false\r\n\t\t\t\tthis.commentConfig.noData = false\r\n\t\t\t\tthis.comments = []\r\n\t\t\t\tthis.getComments()\r\n\t\t\t},\r\n\t\t\tasync getComments(page) {\r\n\t\t\t\tif(this.commentConfig.isLoading) return\r\n\t\t\t\tthis.commentConfig.isLoading = true\r\n\t\t\t\t\r\n\t\t\t\tconst [res, _] = await httpGet(threadCommit_api, {\r\n\t\t\t\t\tthread_id: this.thread.id,\r\n\t\t\t\t\tpage: page || 1,\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tthis.commentConfig.isLoading = false\r\n\t\t\t\tthis.commentConfig.noData = res.data.detail\r\n\t\t\t\tif(this.commentConfig.noData) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.commentConfig.curPage ++\r\n\t\t\t\tconst results = res.data.results\r\n\t\t\t\tif(results && !results.length) {\r\n\t\t\t\t\tthis.commentConfig.noData = true\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.comments = [...this.comments, ...results]\r\n\t\t\t},\r\n\t\t\tasync messageSend({message, clear}) {\r\n\t\t\t\tif(!message) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tconst {index, parentIndex} = this.curCommentCtx\r\n\t\t\t\t\r\n\t\t\t\tlet replyUserId = null;\r\n\t\t\t\tlet realParentId = null;\r\n\t\t\t\tconst hasParent = parentIndex !== null && parentIndex+1\r\n\t\t\t\tconst hasIndex = index !== null && index+1\r\n\t\t\t\tif(hasParent && hasIndex) {\r\n\t\t\t\t\treplyUserId = this.comments[parentIndex].comment_children[index].user_info.id\r\n\t\t\t\t\trealParentId = this.comments[parentIndex].comment_id\r\n\t\t\t\t} else if (hasIndex) {\r\n\t\t\t\t\treplyUserId = this.comments[index].user_info.id\r\n\t\t\t\t\trealParentId = this.comments[index].comment_id\r\n\t\t\t\t}\r\n\t\t\t\tconst [res, err] = await httpPost(threadCommit_api, {\r\n\t\t\t\t\tthread_id: this.thread.id,\r\n\t\t\t\t\tcomment_parent_id: realParentId,\r\n\t\t\t\t\tcomment_reply_id: replyUserId,\r\n\t\t\t\t\tcomment_content: message,\r\n\t\t\t\t}, 2500)\r\n\t\t\t\tif(err) {\r\n\t\t\t\t\tthis.messageOpen(err, 'danger')\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tconst data = res.data\r\n\t\t\t\tif(hasParent && hasIndex) {\r\n\t\t\t\t\tthis.comments[parentIndex].comment_children.unshift(data)\r\n\t\t\t\t} else if (hasIndex) {\r\n\t\t\t\t\tthis.comments[index].comment_children.unshift(data)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.comments.unshift(data)\r\n\t\t\t\t}\r\n\t\t\t\tthis.flushCommentCtx()\r\n\t\t\t\tthis.commentFocus = false\r\n\t\t\t\tclear()\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getComments()\r\n\t\t\tthis.flushCommentCtx()\r\n\t\t}\n    }\n</script>\n\n<style lang=\"scss\" scoped>\r\n\t.ncu-forum-details {\r\n\t\twidth: 100%;\r\n\t\theight: 100vh;\r\n\t\toverflow: hidden;\n\t}\n</style>\n\n\n","import mod from \"-!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./forum-details.vue?vue&type=style&index=0&id=3ba9723f&lang=scss&scoped=true&\"; export default mod; export * from \"-!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\edge\\\\HBuilderX.2.8.11.20200907\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./forum-details.vue?vue&type=style&index=0&id=3ba9723f&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1646556816559\n      var cssReload = require(\"F:/edge/HBuilderX.2.8.11.20200907/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}